<div class="auth-container">
  <div class="auth-card">
    <h2>{{ isLoginMode ? 'Connexion' : 'Créer un compte' }}</h2>
    <form [formGroup]="authForm" (ngSubmit)="onSubmit()">

      <div class="form-group" *ngIf="!isLoginMode">
        <label for="userName">Nom d'utilisateur</label>
        <input id="userName" type="text" formControlName="userName" />
        <span class="error" *ngIf="authForm.get('userName')?.hasError('required')">
          Le nom d'utilisateur est obligatoire.
        </span>
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input id="email" type="email" formControlName="email" />
        <span class="error" *ngIf="authForm.get('email')?.hasError('required')">
          L'email est obligatoire.
        </span>
        <span class="error" *ngIf="authForm.get('email')?.hasError('email')">
          Entrez une adresse email valide.
        </span>
      </div>

      <div class="form-group">
        <label for="password">Mot de passe</label>
        <input id="password" type="password" formControlName="password" />
        <span class="error" *ngIf="authForm.get('password')?.hasError('required')">
          Le mot de passe est obligatoire.
        </span>
        <span class="error" *ngIf="authForm.get('password')?.hasError('minlength')">
          Le mot de passe doit contenir au moins 6 caractères.
        </span>
      </div>

      <div class="form-group" *ngIf="!isLoginMode">
        <label for="confirmPassword">Confirmer le mot de passe</label>
        <input id="confirmPassword" type="password" formControlName="confirmPassword" />
        <span class="error" *ngIf="authForm.get('confirmPassword')?.hasError('required')">
          La confirmation est obligatoire.
        </span>
        <span class="error" *ngIf="authForm.get('confirmPassword')?.hasError('mismatch')">
          Les mots de passe ne correspondent pas.
        </span>
      </div>

      <button type="submit" [disabled]="authForm.invalid">
        {{ isLoginMode ? "Se connecter" : "S'inscrire" }}
      </button>
    </form>
    <button class="toggle-btn" (click)="toggleMode()">
      {{ isLoginMode ? 'Créer un compte' : 'Déjà inscrit ? Connexion' }}
    </button>
  </div>
</div>
